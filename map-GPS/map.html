<!DOCTYPE html>
<html>
<head>
    <title>Hiking Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <style>
        #map { height: 500px; width: 100%; }
    </style>
</head>
<body>
    <h1>My Hiking Map</h1>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        var map = L.map('map').setView([0, 0], 2); // Starting view
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19
        }).addTo(map);

        // Get user's location
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                var lat = position.coords.latitude;
                var lon = position.coords.longitude;
                map.setView([lat, lon], 13);
                L.marker([lat, lon]).addTo(map).bindPopup("You are here!").openPopup();
            });
        } else {
            alert("Geolocation is not supported by this browser.");
        }
        <h2>Filter Trails</h2>
<label for="difficulty">Difficulty:</label>
<select id="difficulty">
    <option value="">All</option>
    <option value="easy">Easy</option>
    <option value="medium">Medium</option>
    <option value="hard">Hard</option>
</select>

<label for="distance">Max Distance (miles):</label>
<input type="number" id="distance" placeholder="Any distance">

<button id="applyFilter">Apply Filter</button>

<div id="map"></div>

<script>
    var map = L.map('map').setView([0,0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom:19}).addTo(map);

    // Example trail data
    var trails = [
        {name: "Trail A", lat: 35.0, lon: -120.0, difficulty: "easy", distance: 2},
        {name: "Trail B", lat: 35.1, lon: -120.1, difficulty: "medium", distance: 5},
        {name: "Trail C", lat: 35.2, lon: -120.2, difficulty: "hard", distance: 8}
    ];

    var markers = [];

    function showTrails(filterDifficulty, maxDistance){
        // Remove old markers
        markers.forEach(m => map.removeLayer(m));
        markers = [];

        trails.forEach(trail => {
            if((!filterDifficulty || trail.difficulty === filterDifficulty) &&
               (!maxDistance || trail.distance <= maxDistance)) {
                var marker = L.marker([trail.lat, trail.lon])
                    .addTo(map)
                    .bindPopup(`${trail.name} - ${trail.difficulty} - ${trail.distance} miles`);
                markers.push(marker);
            }
        });
    }

    document.getElementById("applyFilter").addEventListener("click", function(){
        var diff = document.getElementById("difficulty").value;
        var dist = parseFloat(document.getElementById("distance").value);
        showTrails(diff, dist);
    });

    // Show all trails on load
    showTrails();
</script>
    </script>
</body>
</html>
